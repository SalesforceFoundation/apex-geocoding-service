@istest
public with sharing class CiceroTest extends Cicero {

    string errorToSimulate;

	public CiceroTest(){ super(); }
    public CiceroTest(string un, string pw, integer tm) { super(un, pw, tm); }
	public CiceroTest(string simulateError) {
		super();
		errorToSimulate = simulateError;
	}
  
    // override methods for calling the API 
    public virtual override HttpResponse execute(Http h, HttpRequest request) {
        system.debug(logginglevel.WARN, request); 
        if (errorToSimulate == 'httpError')
            throw(new GeocodingException('HTTP Callout failed.'));
        HttpResponse resp = new HttpResponse();
        resp.setStatusCode((errorToSimulate == 'requestForbidden') ? 403 : 200);
        resp.setStatus('403 Forbidden.');
        return resp;
    } 

	private static final string TOKEN_RESPONSE = '{"token": "21q-df53da3e9fcd1ce221f1", "user": 99, "success": true}';
	private static final String LEGISLATIVE_DISTRICT_RESPONSE = '{"response": {"errors": [], "messages": [], "results": {"candidates": [{"count": {"to": 5, "total": 6, "from": 0}, "confidence": "", "wkid": 4326, "entity": "", "districts": [{"district_type": "NATIONAL_EXEC", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "UNITED STATES", "valid_to": null, "label": "United States", "sk": 19, "subtype": "NATION", "state": "", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 19}, {"district_type": "NATIONAL_LOWER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "2", "valid_to": null, "label": "", "sk": 1967, "subtype": "LOWER", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 1967}, {"district_type": "NATIONAL_UPPER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "WA", "valid_to": null, "label": "", "sk": 74, "subtype": "UPPER", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 74}, {"district_type": "STATE_EXEC", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "WA", "valid_to": null, "label": "Washington", "sk": 1009, "subtype": "STATE", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 1009}, {"district_type": "STATE_LOWER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "10", "valid_to": null, "label": "", "sk": 5000, "subtype": "LOWER", "state": "WA", "last_update_date": "2012-03-18 07:46:33", "data": {}, "id": 5000}, {"district_type": "STATE_UPPER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "10", "valid_to": null, "label": "", "sk": 986, "subtype": "UPPER", "state": "WA", "last_update_date": "2012-03-18 07:46:34", "data": {}, "id": 986}], "locator": "interpolation", "score": 100.0, "match_addr": "3540 Quade Rd, Clinton, WA, 98236", "y": 47.966189, "x": -122.423394, "geoservice": "EsriNASoap"}]}}}';
	private static final String NONLEGISLATIVE_DISTRICT_RESPONSE = '{"response": {"errors": [],"messages": [],"results": {"districts": [ {"district_type": "COUNTY","city": "","valid_from": "2012-03-19 14:33:06.185250","country": "US","district_id": "02020","valid_to": "9999-01-01 04:59:59.999999","label": "Anchorage Municipality","sk": 29330,"subtype": "","state": "AK","last_update_date": "2011-12-08 00:14:50","data": {"FUNCSTAT": "C","METDIVFP": "","AWATER": 663860986.0,"COUNTYFP": "020","MTFCC": "G4020","CLASSFP": "H6","STATEFP": "02","CBSAFP": "11260","INTPTLAT": "+61.1742503","NAME": "Anchorage","INTPTLON": "-149.2843294","LSAD": "12","GEOID": "02020","NAMELSAD": "Anchorage Municipality","CSAFP": "","ALAND": -2147483648.0,"COUNTYNS": "01416061"},"id": 29330 }], "count": { "to": 0, "total": 1, "from": 0 }}}}';
	private static final string OFFICIAL_RESPONSE = '{"response": {"errors": [], "messages": [], "results": {"candidates": [{"count": {"to": 9, "total": 10, "from": 0}, "confidence": "", "score": 100.0, "wkid": 4326, "entity": "", "locator": "interpolation", "officials": [{"last_name": "Bailey", "addresses": [{"county": "", "postal_code": "98504-0600", "phone_2": "", "phone_1": "(360) 786-7914", "fax_1": "(360) 786-7036", "city": "Olympia", "fax_2": "", "state": "WA", "address_1": "Washington House of Representatives", "address_2": "403 John L. O\'Brien Building", "address_3": "PO Box 40600"}, {"county": "", "postal_code": "98277", "phone_2": "", "phone_1": "(360) 679-2055", "fax_1": "", "city": "Oak Harbor", "fax_2": "", "state": "WA", "address_1": "527 Sunrise Boulevard", "address_2": "", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "STATE_LOWER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "10", "valid_to": null, "label": "", "sk": 5000, "subtype": "LOWER", "state": "WA", "last_update_date": "2012-03-18 07:46:33", "data": {}, "id": 5000}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "District 10, Position 2; all of Island County and Parts of Skagit and Snohomish counties, the cities of La Conner, Oak Harbor, and Stanwood.  ", "title": "Representative", "valid_to": null, "sk": 3440, "chamber": {"election_frequency": "2 years", "name": "House", "term_length": "", "government": {"city": "", "state": "WA", "name": "Washington, US", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://www.leg.wa.gov/Senate; http://www.leg.wa.gov/House/; ; Elections and results; http://www.secstate.wa.gov/elections/", "type": "STATE"}, "url": "http://www.leg.wa.gov/House/", "type": "LOWER", "notes": "Term length: 2 years", "last_update_date": "2010-12-10 17:11:15.487000", "official_count": 98, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "0001-01-01 04:56:02", "inauguration_rules": "Term start date: Noon the first day of session - 2nd Monday of January.", "name_native_language": "", "election_rules": "Election:  all up for election in even numbered years.", "contact_phone": "", "id": 62, "name_formal": "Washington House"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 3440, "representing_city": ""}, "initial_term_start_date": "0001-01-01 04:56:02", "current_term_start_date": "2011-01-10 05:00:00", "last_update_date": "2012-02-27 05:00:00", "salutation": "", "id": 11326, "middle_initial": "", "first_name": "Barbara", "valid_from": "2011-01-10 05:00:00", "committees": [{"valid_from": "0001-01-01 04:56:02", "description": "Community & Economic Development & Trade (Ranking Minority Member), Appropriations (Asst Ranking Minority Member), Human Services, Rules", "valid_to": null, "sk": 6379, "last_update_date": "2012-02-10 16:51:00.077445", "id": 6379}], "notes": ["Position 2"], "identifiers": [], "name_suffix": "", "valid_to": "2013-01-14 05:00:00", "sk": 11326, "term_end_date": "2013-01-14 05:00:00", "urls": ["http://www.leg.wa.gov/house/representatives/Pages/bailey.aspx", "http://houserepublicans.wa.gov/members/barbara-bailey/"], "party": "Republican", "email_addresses": ["bailey.barbara@leg.wa.gov", "https://dlr.leg.wa.gov/MemberEmail/MailForm.aspx?Chamber=H&District=10&Position=2"]}, {"last_name": "Biden", "addresses": [{"county": "District of Columbia", "postal_code": "20500", "phone_2": "", "phone_1": "", "fax_1": "", "city": "Washington", "fax_2": "", "state": "DC", "address_1": "The White House", "address_2": "1600 Pennsylvania Avenue NW", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "NATIONAL_EXEC", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "UNITED STATES", "valid_to": null, "label": "United States", "sk": 19, "subtype": "NATION", "state": "", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 19}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "", "notes": "", "title": "Vice President", "valid_to": null, "sk": 5804, "chamber": {"election_frequency": "", "name": "Vice President", "term_length": "", "government": {"city": "", "state": "", "name": "United States Congress", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "type": "NATIONAL"}, "url": "http://www.whitehouse.gov/administration/vice-president-biden", "type": "EXEC", "notes": "", "last_update_date": "2010-01-06 05:00:00", "official_count": 1, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "0001-01-01 04:56:02", "inauguration_rules": "", "name_native_language": "", "election_rules": "", "contact_phone": "", "id": 320, "name_formal": "Vice President of the United States"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 5804, "representing_city": ""}, "initial_term_start_date": "2009-01-20 05:00:00", "current_term_start_date": "2009-01-20 05:00:00", "last_update_date": "2010-01-21 05:00:00", "salutation": "Honorable", "id": 1415, "middle_initial": "", "first_name": "Joseph", "valid_from": "2009-01-20 05:00:00", "committees": [], "notes": [], "identifiers": [], "name_suffix": "", "valid_to": "2013-01-21 05:00:00", "sk": 1415, "term_end_date": "2013-01-21 05:00:00", "urls": ["http://www.whitehouse.gov/administration/vice-president-biden"], "party": "Democrat", "email_addresses": ["http://www.whitehouse.gov/contact-vp"]}, {"last_name": "Cantwell", "addresses": [{"county": "", "postal_code": "20510", "phone_2": "", "phone_1": "(202) 224-3441", "fax_1": "(202) 228-0514", "city": "Washington", "fax_2": "", "state": "DC", "address_1": "United States Senate", "address_2": "511 Dirksen Senate Office Building", "address_3": ""}, {"county": "", "postal_code": "98174", "phone_2": "", "phone_1": "(206) 220-6400", "fax_1": "(206) 220-6404", "city": "Seattle", "fax_2": "", "state": "WA", "address_1": "915 Second Avenue", "address_2": "Suite 3206", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "NATIONAL_UPPER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "WA", "valid_to": null, "label": "", "sk": 74, "subtype": "UPPER", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 74}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "", "title": "Senator", "valid_to": null, "sk": 2232, "chamber": {"election_frequency": "2 years", "name": "Senate", "term_length": "6 years", "government": {"city": "", "state": "", "name": "United States Congress", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "type": "NATIONAL"}, "url": "http://www.senate.gov/", "type": "UPPER", "notes": "", "last_update_date": "2009-08-05 04:00:00", "official_count": 100, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "contact_email": "", "legislature_update_date": "2007-07-20 04:00:00", "inauguration_rules": "Terms start and end at noon on the 3rd day of January; ; Useful pages for determining term start dates:; http://en.wikipedia.org/wiki/List_of_current_United_States_Senators_by_seniority; http://en.wikipedia.org/wiki/List_of_current_United_States_Representatives_by_seniority", "name_native_language": "", "election_rules": "http://uspolitics.america.gov/uspolitics/elections/index.html; ; Senate - Every state has two senators  chosen in statewide elections held in even-numbered years for staggered six-year terms, with one-third of the Senate seats up for reelection every two years.; ; Senate Elections - 2012: AZ, CA, CT, DE, FL, HI, IA, ME, MA, MD, MS, MI, MN, NE, NV, NH, NJ, NM, NY, ND, OH, PA, RI, TN, TX, UT, VT, VA, WA, WV, WI, WY; ; 2010: AL, AS, AZ, AK, CA, CO, CT, FL, GA, HI, ID, IL, IN, IA, KS, KY, LA, MD, MO, NV, NH, NY, NC, ND, OH, OK, OR, PA, SC, SD, UT, VT, WA, WI; ; 2008: AL, AK, AS, CO, DE, GA, ID, IL, IA, KS, KY, LA, ME, MA, MI, MN, MT, MO, NE, NJ, NM, NC, OK, OR, RI, SC, SD, TN, TX, VA, WV, WY", "contact_phone": "", "id": 398, "name_formal": "United States Senate"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 2232, "representing_city": ""}, "initial_term_start_date": "2001-01-03 05:00:00", "current_term_start_date": "2007-01-03 05:00:00", "last_update_date": "2011-02-22 17:58:18.603000", "salutation": "", "id": 14765, "middle_initial": "E.", "first_name": "Maria", "valid_from": "2007-01-03 05:00:00", "committees": [{"valid_from": "0001-01-01 04:56:02", "description": "Committee on Indian Affairs, Committee on Energy and Natural Resources, Committee on Finance, Committee on Commerce, Science, and Transportation, Committee on Small Business and Entrepreneurship", "valid_to": null, "sk": 8321, "last_update_date": "2012-02-10 16:51:00.077445", "id": 8321}], "notes": ["CANTWELL, Maria E., a Representative and Senator from Washington; born in Indianapolis, Ind., October 13, 1958; attended public schools in Indianapolis; B.A., Miami University of Ohio 1980; pursued an academic course at the Miami University European Center, Luxembourg; public relations consultant; Washington State representative 1987-1993; elected as a Democrat to the 103rd Congress (January 3, 1993-January 3, 1995); unsuccessful candidate for reelection to the 104th Congress; elected as a Democrat to the U.S. Senate on November 7, 2000, for the term commencing January 3, 2001; reelected in 2006 for the term ending January 3, 2013.", "1/4/2007"], "identifiers": [{"valid_from": "0001-01-01 04:56:02", "official": 14765, "valid_to": null, "sk": 13, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "BIOGUIDE", "id": 13, "identifier_value": "C000127"}, {"valid_from": "0001-01-01 04:56:02", "official": 14765, "valid_to": null, "sk": 621, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "CRP", "id": 621, "identifier_value": "N00007836"}, {"valid_from": "0001-01-01 04:56:02", "official": 14765, "valid_to": null, "sk": 2321, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "FEC", "id": 2321, "identifier_value": "S8WA00194"}, {"valid_from": "0001-01-01 04:56:02", "official": 14765, "valid_to": null, "sk": 1774, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "GOVTRACK", "id": 1774, "identifier_value": "300018"}, {"valid_from": "0001-01-01 04:56:02", "official": 14765, "valid_to": null, "sk": 1168, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "VOTESMART", "id": 1168, "identifier_value": "27122"}], "name_suffix": "", "valid_to": "2013-01-03 05:00:00", "sk": 14765, "term_end_date": "2013-01-03 05:00:00", "urls": ["http://cantwell.senate.gov/"], "party": "Democrat", "email_addresses": ["http://cantwell.senate.gov/contact/index.cfm"]}, {"last_name": "Gregoire", "addresses": [{"county": "", "postal_code": "98504-0002", "phone_2": "", "phone_1": "(360) 902-4111", "fax_1": "(360) 753-4110", "city": "Olympia", "fax_2": "", "state": "WA", "address_1": "Office of the Governor", "address_2": "416 Sid Snyder Ave SW, Suite 200", "address_3": "PO Box 40002 "}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "STATE_EXEC", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "WA", "valid_to": null, "label": "Washington", "sk": 1009, "subtype": "STATE", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 1009}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "", "title": "Governor", "valid_to": null, "sk": 4956, "chamber": {"election_frequency": "", "name": "Governor", "term_length": "", "government": {"city": "", "state": "WA", "name": "Washington, US", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://www.leg.wa.gov/Senate; http://www.leg.wa.gov/House/; ; Elections and results; http://www.secstate.wa.gov/elections/", "type": "STATE"}, "url": "http://www.governor.wa.gov/", "type": "EXEC", "notes": "", "last_update_date": "2010-03-30 04:00:00", "official_count": 2, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "2007-06-12 04:00:00", "inauguration_rules": "", "name_native_language": "", "election_rules": "", "contact_phone": "", "id": 897, "name_formal": "Washington Governor"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 4956, "representing_city": ""}, "initial_term_start_date": "2005-01-12 05:00:00", "current_term_start_date": "2009-01-12 05:00:00", "last_update_date": "2012-02-27 05:00:00", "salutation": "Honorable", "id": 15405, "middle_initial": "", "first_name": "Christine", "valid_from": "2009-01-12 05:00:00", "committees": [], "notes": ["Chris Gregoire is serving her second term as Washington\'s 22nd Governor."], "identifiers": [], "name_suffix": "", "valid_to": "2013-01-09 05:00:00", "sk": 15405, "term_end_date": "2013-01-09 05:00:00", "urls": ["http://www.governor.wa.gov/", "http://twitter.com/govgregoire"], "party": "Democrat", "email_addresses": ["http://www.governor.wa.gov/contact/default.asp"]}, {"last_name": "Haugen", "addresses": [{"county": "", "postal_code": "98504-0410", "phone_2": "(800) 562-6000", "phone_1": "(360) 786-7618", "fax_1": "(360) 786-1999", "city": "Olympia", "fax_2": "", "state": "WA", "address_1": "Washington State Senate", "address_2": "John A. Cherberg Building, Room 305", "address_3": "P.O. Box 40410"}, {"county": "", "postal_code": "", "phone_2": "", "phone_1": "(360) 682-6274", "fax_1": "(360) 682-6726", "city": "", "fax_2": "", "state": "", "address_1": "", "address_2": "", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "STATE_UPPER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "10", "valid_to": null, "label": "", "sk": 986, "subtype": "UPPER", "state": "WA", "last_update_date": "2012-03-18 07:46:34", "data": {}, "id": 986}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "District: Parts of Island, Ska; Camano Island", "title": "Senator", "valid_to": null, "sk": 10033, "chamber": {"election_frequency": "2 years", "name": "Senate", "term_length": "", "government": {"city": "", "state": "WA", "name": "Washington, US", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://www.leg.wa.gov/Senate; http://www.leg.wa.gov/House/; ; Elections and results; http://www.secstate.wa.gov/elections/", "type": "STATE"}, "url": "http://www.leg.wa.gov/Senate", "type": "UPPER", "notes": "Term length: 4 years", "last_update_date": "2010-12-10 17:13:01.090000", "official_count": 49, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "0001-01-01 04:56:02", "inauguration_rules": "Term start date: Noon the first day of session - 2nd Monday of January.", "name_native_language": "", "election_rules": "Election: staggered in even years.; 2008: 1, 2, 3, 4, 5, 9, 10, 11, 12, 14, 16, 17, 18, 19, 20, 23, 24, 25, 27, 28, 34, 39, 40, 41, 49; 2010: 6, 7, 8, 13, 15, 21, 22, 26, 29, 30, 31, 32, 33, 35, 36, 37, 38, 42, 43, 44, 45, 46, 47, 48", "contact_phone": "", "id": 762, "name_formal": "Washington Senate"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 10033, "representing_city": ""}, "initial_term_start_date": "1993-01-01 05:00:00", "current_term_start_date": "2009-01-12 05:00:00", "last_update_date": "2012-02-27 05:00:00", "salutation": "", "id": 17451, "middle_initial": "Margaret", "first_name": "Mary", "valid_from": "2009-01-12 05:00:00", "committees": [{"valid_from": "0001-01-01 04:56:02", "description": "Transportation, Chair, Consumer Protection & Housing, Rules", "valid_to": null, "sk": 9932, "last_update_date": "2012-02-10 16:51:00.077445", "id": 9932}], "notes": [], "identifiers": [], "name_suffix": "", "valid_to": "2013-01-14 05:00:00", "sk": 17451, "term_end_date": "2013-01-14 05:00:00", "urls": ["http://www.leg.wa.gov/senate/senators/Pages/haugen.aspx", "http://www.senatedemocrats.wa.gov/senators/haugen/"], "party": "Democrat", "email_addresses": ["haugen.marymargaret@leg.wa.gov", "https://dlr.leg.wa.gov/memberemail/mailform.aspx?chamber=s&district=10"]}, {"last_name": "Larsen", "addresses": [{"county": "", "postal_code": "20515", "phone_2": "", "phone_1": "(202) 225-2605", "fax_1": "(202) 225-4420", "city": "Washington", "fax_2": "", "state": "DC", "address_1": "United States House of Representatives", "address_2": "108 Cannon House Office Building", "address_3": ""}, {"county": "", "postal_code": "98225", "phone_2": "", "phone_1": "(360) 733-4500", "fax_1": "(360) 733-5144", "city": "Bellingham", "fax_2": "", "state": "WA", "address_1": "119 North Commercial Street", "address_2": "Suite 1350", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "NATIONAL_LOWER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "2", "valid_to": null, "label": "", "sk": 1967, "subtype": "LOWER", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 1967}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "", "title": "Representative", "valid_to": null, "sk": 1906, "chamber": {"election_frequency": "2 years", "name": "House of Representatives", "term_length": "", "government": {"city": "", "state": "", "name": "United States Congress", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "type": "NATIONAL"}, "url": "http://www.house.gov/", "type": "LOWER", "notes": "", "last_update_date": "2010-09-21 19:40:43.033000", "official_count": 435, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "0001-01-01 04:56:02", "inauguration_rules": "Terms start and end at noon on the 3rd day of January; ; Useful pages for determining term start dates:; http://en.wikipedia.org/wiki/List_of_current_United_States_Senators_by_seniority; http://en.wikipedia.org/wiki/List_of_current_United_States_Representatives_by_seniority", "name_native_language": "", "election_rules": "http://uspolitics.america.gov/uspolitics/elections/index.html; ; House - Elections every two years (even-numbered)", "contact_phone": "", "id": 700, "name_formal": "United States House of Representatives"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 1906, "representing_city": ""}, "initial_term_start_date": "2001-01-03 05:00:00", "current_term_start_date": "2011-01-03 05:00:00", "last_update_date": "2012-02-28 15:11:00.350000", "salutation": "Honorable", "id": 10351, "middle_initial": "Ray", "first_name": "Richard", "valid_from": "2011-01-03 05:00:00", "committees": [{"valid_from": "0001-01-01 04:56:02", "description": "Armed Services, Small Business, Transportation and Infrastructure", "valid_to": null, "sk": 5881, "last_update_date": "2012-02-10 16:51:00.077445", "id": 5881}], "notes": ["LARSEN, Richard Ray (Rick), a Representative from Washington; born in Arlington, Snohomish County, Wash., June 15, 1965; B.A., Pacific Lutheran University, Tacoma, Wash., 1987; M.P.A., University of Minnesota, 1990; member of the Snohomish, Wash., county council, 1998-2000; elected as a Democrat to the One Hundred Seventh and to the three succeeding Congresses (January 3, 2001-present)."], "identifiers": [{"valid_from": "0001-01-01 04:56:02", "official": 10351, "valid_to": null, "sk": 300, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "BIOGUIDE", "id": 300, "identifier_value": "L000560"}, {"valid_from": "0001-01-01 04:56:02", "official": 10351, "valid_to": null, "sk": 881, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "CRP", "id": 881, "identifier_value": "N00009759"}, {"valid_from": "0001-01-01 04:56:02", "official": 10351, "valid_to": null, "sk": 2581, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "FEC", "id": 2581, "identifier_value": "H0WA02080"}, {"valid_from": "0001-01-01 04:56:02", "official": 10351, "valid_to": null, "sk": 2034, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "GOVTRACK", "id": 2034, "identifier_value": "400232"}, {"valid_from": "0001-01-01 04:56:02", "official": 10351, "valid_to": null, "sk": 1454, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "VOTESMART", "id": 1454, "identifier_value": "56231"}], "name_suffix": "", "valid_to": "2013-01-03 05:00:00", "sk": 10351, "term_end_date": "2013-01-03 05:00:00", "urls": ["http://larsen.house.gov/", "http://twitter.com/RepRickLarsen"], "party": "Democrat", "email_addresses": ["rick.larsen@mail.house.gov", "https://larsen.house.gov/contact/email-me.shtml "]}, {"last_name": "Murray", "addresses": [{"county": "", "postal_code": "20510", "phone_2": "", "phone_1": "(202) 224-2621", "fax_1": "(202) 224-0238", "city": "Washington", "fax_2": "", "state": "DC", "address_1": "United States Senate", "address_2": "448 Russell Senate Office Building", "address_3": ""}, {"county": "", "postal_code": "98201", "phone_2": "", "phone_1": "(425) 259-6515", "fax_1": "(425) 259-7152", "city": "Everett", "fax_2": "", "state": "WA", "address_1": "2930 Wetmore Avenue", "address_2": "Suite 903", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "NATIONAL_UPPER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "WA", "valid_to": null, "label": "", "sk": 74, "subtype": "UPPER", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 74}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "", "title": "Senator", "valid_to": null, "sk": 72, "chamber": {"election_frequency": "2 years", "name": "Senate", "term_length": "6 years", "government": {"city": "", "state": "", "name": "United States Congress", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "type": "NATIONAL"}, "url": "http://www.senate.gov/", "type": "UPPER", "notes": "", "last_update_date": "2009-08-05 04:00:00", "official_count": 100, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "contact_email": "", "legislature_update_date": "2007-07-20 04:00:00", "inauguration_rules": "Terms start and end at noon on the 3rd day of January; ; Useful pages for determining term start dates:; http://en.wikipedia.org/wiki/List_of_current_United_States_Senators_by_seniority; http://en.wikipedia.org/wiki/List_of_current_United_States_Representatives_by_seniority", "name_native_language": "", "election_rules": "http://uspolitics.america.gov/uspolitics/elections/index.html; ; Senate - Every state has two senators  chosen in statewide elections held in even-numbered years for staggered six-year terms, with one-third of the Senate seats up for reelection every two years.; ; Senate Elections - 2012: AZ, CA, CT, DE, FL, HI, IA, ME, MA, MD, MS, MI, MN, NE, NV, NH, NJ, NM, NY, ND, OH, PA, RI, TN, TX, UT, VT, VA, WA, WV, WI, WY; ; 2010: AL, AS, AZ, AK, CA, CO, CT, FL, GA, HI, ID, IL, IN, IA, KS, KY, LA, MD, MO, NV, NH, NY, NC, ND, OH, OK, OR, PA, SC, SD, UT, VT, WA, WI; ; 2008: AL, AK, AS, CO, DE, GA, ID, IL, IA, KS, KY, LA, ME, MA, MI, MN, MT, MO, NE, NJ, NM, NC, OK, OR, RI, SC, SD, TN, TX, VA, WV, WY", "contact_phone": "", "id": 398, "name_formal": "United States Senate"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 72, "representing_city": ""}, "initial_term_start_date": "1993-01-05 05:00:00", "current_term_start_date": "2011-01-03 05:00:00", "last_update_date": "2012-01-24 18:04:48.860000", "salutation": "", "id": 17569, "middle_initial": "", "first_name": "Patty", "valid_from": "2011-01-03 05:00:00", "committees": [{"valid_from": "0001-01-01 04:56:02", "description": "Joint Committee on Printing, Committee on Appropriations, Committee on the Budget, Committee on Rules and Administration, Committee on Health, Education, Labor, and Pensions, Committee on Veterans\' Affairs", "valid_to": null, "sk": 10006, "last_update_date": "2012-02-10 16:51:00.077445", "id": 10006}], "notes": ["1/4/2005"], "identifiers": [{"valid_from": "0001-01-01 04:56:02", "official": 17569, "valid_to": null, "sk": 1, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "BIOGUIDE", "id": 1, "identifier_value": "M001111"}, {"valid_from": "0001-01-01 04:56:02", "official": 17569, "valid_to": null, "sk": 609, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "CRP", "id": 609, "identifier_value": "N00007876"}, {"valid_from": "0001-01-01 04:56:02", "official": 17569, "valid_to": null, "sk": 2309, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "FEC", "id": 2309, "identifier_value": "S2WA00189"}, {"valid_from": "0001-01-01 04:56:02", "official": 17569, "valid_to": null, "sk": 1762, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "GOVTRACK", "id": 1762, "identifier_value": "300076"}, {"valid_from": "0001-01-01 04:56:02", "official": 17569, "valid_to": null, "sk": 1156, "last_update_date": "2012-02-10 16:51:00.077445", "identifier_type": "VOTESMART", "id": 1156, "identifier_value": "53358"}], "name_suffix": "", "valid_to": "2017-01-03 05:00:00", "sk": 17569, "term_end_date": "2017-01-03 05:00:00", "urls": ["http://murray.senate.gov/"], "party": "Democrat", "email_addresses": ["senator_murray@murray.senate.gov", "http://murray.senate.gov/email/index.cfm"]}, {"last_name": "Obama", "addresses": [{"county": "", "postal_code": "20500", "phone_2": "", "phone_1": "202-456-1111", "fax_1": "202-456-2461", "city": "Washington", "fax_2": "", "state": "DC", "address_1": "The White House", "address_2": "1600 Pennsylvania Avenue NW", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "NATIONAL_EXEC", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "UNITED STATES", "valid_to": null, "label": "United States", "sk": 19, "subtype": "NATION", "state": "", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 19}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "", "notes": "", "title": "President", "valid_to": null, "sk": 2564, "chamber": {"election_frequency": "4 years", "name": "President", "term_length": "4 years", "government": {"city": "", "state": "", "name": "United States Congress", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://en.wikipedia.org/wiki/110th_United_States_Congress; http://en.wikipedia.org/wiki/Members_of_the_110th_United_States_Congress", "type": "NATIONAL"}, "url": "http://www.whitehouse.gov/administration/president_obama/", "type": "EXEC", "notes": "", "last_update_date": "2009-08-05 04:00:00", "official_count": 1, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": false, "remarks": "", "contact_email": "", "legislature_update_date": "0001-01-01 04:56:02", "inauguration_rules": "", "name_native_language": "", "election_rules": "two term limit", "contact_phone": "", "id": 976, "name_formal": "President of the United States"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 2564, "representing_city": ""}, "initial_term_start_date": "2009-01-20 05:00:00", "current_term_start_date": "2009-01-20 05:00:00", "last_update_date": "2009-08-31 04:00:00", "salutation": "President", "id": 7593, "middle_initial": "Hussein", "first_name": "Barack", "valid_from": "2009-01-20 05:00:00", "committees": [], "notes": [], "identifiers": [], "name_suffix": "II", "valid_to": "2013-01-21 05:00:00", "sk": 7593, "term_end_date": "2013-01-21 05:00:00", "urls": ["http://www.whitehouse.gov/administration/president_obama/", "http://www.barackobama.com/index.php"], "party": "Democrat", "email_addresses": ["http://www.whitehouse.gov/contact/"]}, {"last_name": "Owen", "addresses": [{"county": "", "postal_code": "98504-0400", "phone_2": "", "phone_1": "(360) 786-7700", "fax_1": "(360) 786-7749", "city": "Olympia", "fax_2": "", "state": "WA", "address_1": "Office of the Lt. Governor", "address_2": "220 Legislative Building", "address_3": "PO Box 40400"}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "STATE_EXEC", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "WA", "valid_to": null, "label": "Washington", "sk": 1009, "subtype": "STATE", "state": "WA", "last_update_date": "2012-03-18 07:46:32", "data": {}, "id": 1009}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "", "title": "Lieutenant governor", "valid_to": null, "sk": 2067, "chamber": {"election_frequency": "", "name": "Governor", "term_length": "", "government": {"city": "", "state": "WA", "name": "Washington, US", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://www.leg.wa.gov/Senate; http://www.leg.wa.gov/House/; ; Elections and results; http://www.secstate.wa.gov/elections/", "type": "STATE"}, "url": "http://www.governor.wa.gov/", "type": "EXEC", "notes": "", "last_update_date": "2010-03-30 04:00:00", "official_count": 2, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "2007-06-12 04:00:00", "inauguration_rules": "", "name_native_language": "", "election_rules": "", "contact_phone": "", "id": 897, "name_formal": "Washington Governor"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 2067, "representing_city": ""}, "initial_term_start_date": "0001-01-01 04:56:02", "current_term_start_date": "0001-01-01 04:56:02", "last_update_date": "2012-02-27 05:00:00", "salutation": "", "id": 286, "middle_initial": "", "first_name": "Brad", "valid_from": "0001-01-01 04:56:02", "committees": [], "notes": [], "identifiers": [], "name_suffix": "", "valid_to": "9999-12-31 00:00:00", "sk": 286, "term_end_date": "9999-12-31 00:00:00", "urls": ["http://www.ltgov.wa.gov/"], "party": "Democrat", "email_addresses": ["ltgov@leg.wa.gov", "http://www.ltgov.wa.gov/contactLG.htm"]}, {"last_name": "Smith", "addresses": [{"county": "", "postal_code": "98504-0600", "phone_2": "", "phone_1": "(360) 786-7884", "fax_1": "(360) 786-7036", "city": "Olympia", "fax_2": "", "state": "WA", "address_1": "Washington House of Representatives", "address_2": "435 John L. O\'Brien Building", "address_3": "PO Box 40600"}, {"county": "", "postal_code": "98239", "phone_2": "", "phone_1": "(360) 678-3604", "fax_1": "", "city": "Coupeville", "fax_2": "", "state": "WA", "address_1": "22 Front Street NW", "address_2": "Suite C", "address_3": ""}], "office": {"valid_from": "0001-01-01 04:56:02", "district": {"district_type": "STATE_LOWER", "city": "", "valid_from": "0001-01-01 04:56:02", "country": "US", "district_id": "10", "valid_to": null, "label": "", "sk": 5000, "subtype": "LOWER", "state": "WA", "last_update_date": "2012-03-18 07:46:33", "data": {}, "id": 5000}, "representing_country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "representing_state": "WA", "notes": "", "title": "Representative", "valid_to": null, "sk": 5914, "chamber": {"election_frequency": "2 years", "name": "House", "term_length": "", "government": {"city": "", "state": "WA", "name": "Washington, US", "country": {"status": "UN Member State", "name_short": "United States", "gmi_3": "USA", "valid_from": "0001-01-01 04:56:02", "name_short_iso": "United States", "name_short_local": "", "valid_to": null, "id": 247, "sk": 247, "name_short_un": "United States of America", "fips": "US", "last_update_date": "2012-02-10 16:51:00.077445", "iso_3": "USA", "iso_2": "US", "iso_3_numeric": 840, "name_long_local": "", "name_long": "United States of America"}, "notes": "http://www.leg.wa.gov/Senate; http://www.leg.wa.gov/House/; ; Elections and results; http://www.secstate.wa.gov/elections/", "type": "STATE"}, "url": "http://www.leg.wa.gov/House/", "type": "LOWER", "notes": "Term length: 2 years", "last_update_date": "2010-12-10 17:11:15.487000", "official_count": 98, "has_geographic_representation": false, "redistricting_rules": "", "is_chamber_complete": true, "remarks": "", "contact_email": "", "legislature_update_date": "0001-01-01 04:56:02", "inauguration_rules": "Term start date: Noon the first day of session - 2nd Monday of January.", "name_native_language": "", "election_rules": "Election:  all up for election in even numbered years.", "contact_phone": "", "id": 62, "name_formal": "Washington House"}, "last_update_date": "2012-02-10 16:51:00.077445", "election_rules": "", "id": 5914, "representing_city": ""}, "initial_term_start_date": "0001-01-01 04:56:02", "current_term_start_date": "2011-01-10 05:00:00", "last_update_date": "2012-02-27 05:00:00", "salutation": "", "id": 7184, "middle_initial": "", "first_name": "Norma", "valid_from": "2011-01-10 05:00:00", "committees": [{"valid_from": "0001-01-01 04:56:02", "description": "Capital Budget; Insurance Financial Services & Consumer Protection; Transportation", "valid_to": null, "sk": 4016, "last_update_date": "2012-02-10 16:51:00.077445", "id": 4016}], "notes": ["Position 1"], "identifiers": [], "name_suffix": "", "valid_to": "2013-01-14 05:00:00", "sk": 7184, "term_end_date": "2013-01-14 05:00:00", "urls": ["http://www.leg.wa.gov/house/representatives/Pages/smith.aspx", "http://houserepublicans.wa.gov/members/norma-smith/"], "party": "Republican", "email_addresses": ["norma.smith@leg.wa.gov", "https://dlr.leg.wa.gov/MemberEmail/MailForm.aspx?Chamber=H&District=10&Position=1"]}], "match_addr": "3540 Quade Rd, Clinton, WA, 98236", "y": 47.966189, "x": -122.423394, "geoservice": "EsriNASoap"}]}}}';
	private static final string BALANCE_RESPONSE = '{"response": {"errors": [],"messages": [],"results": {"credit_balance": 19555,"usable_batches": [{"discount": "0.00","expiration_time": "2013-01-05","cost": "332.00","credits_remaining": 9555,"credits_purchased": 10000},{"discount": "0.00","expiration_time": "2013-03-11","cost": "332.00","credits_remaining": 10000,"credits_purchased": 10000}],"overdraft_limit": 10000}}}';

	// override the method to return the http response
    public virtual override string getResponseBody(HttpResponse response, string requestType) { 
        system.debug(logginglevel.warn, 'requestType is: ' + requestType);
        system.debug(logginglevel.warn, 'errorToSimulate is: ' + errorToSimulate);
        return
        	(errorToSimulate != null) ? '{"response": {"errors": ["' + errorToSimulate + '"], "messages": [], "results": {}}}': 
            (requestType == 'token') ? TOKEN_RESPONSE : 
            (requestType == 'legislative_district') ? LEGISLATIVE_DISTRICT_RESPONSE :
            (requestType == 'nonlegislative_district') ? NONLEGISLATIVE_DISTRICT_RESPONSE :
            (requestType == 'official') ? OFFICIAL_RESPONSE :
            (requestType == 'account/credits_remaining') ? BALANCE_RESPONSE :                         
            'bogusResponse';
    }   
    
    static testmethod void testGetToken() {
    	insert new geoDataCredentials__c(name = 'CiceroTest', User_Id__c = 'test', password__c = 'test', priority__c = 1, IsActive__c = true);
    	
        // get the token
        Cicero c = new CiceroTest();        
        boolean success = c.getToken();
        
        // make sure it worked
        system.assert(success);
        system.assertEquals('21q-df53da3e9fcd1ce221f1', Cicero.currentToken);
        system.assertEquals(99, Cicero.userId);
    }

    static testmethod void testLegDistrict() {
    	insert new geoDataCredentials__c(name = 'CiceroTest', User_Id__c = 'test', password__c = 'test', priority__c = 1, IsActive__c = true);
    	        
        // get the token
        Cicero c = new CiceroTest();        
        c.getToken();
		List<Geo_Data__c> gd = c.getGeodata('3540 Quade Rd, Clinton, WA');
		        
        system.assert(gd[0].geoLat__c != null);
    }

    static testmethod void testNonLegDistrict() {
    	insert new geoDataCredentials__c(name = 'CiceroTest', User_Id__c = 'test', password__c = 'test', priority__c = 1, IsActive__c = true);
    	        
        // get the token
        Cicero c = new CiceroTest();
        c.getToken();
        c = new CiceroTest();
		Geo_Data__c gd = c.getGeodata(48, 120, 'COUNTY');
		        
        system.assert(gd.geoLat__c != null);
    }

    static testmethod void testErrors() {
		string errMsg;
    	
    	// no credentials should fail
        Cicero c = new Cicero();        
		try {
			List<Geo_Data__c> gd = c.getGeodata('3540 Quade Rd, Clinton, WA');
	        c.getToken();
		} catch (exception ex) {
			errMsg = ex.getMessage();
		}		
        system.assertEquals('You do not have credentials configured for Cicero. Ask your system administrator to create a GeoDataCredential setting named Cicero.', errMsg);

		// specifying a user and pwd should work
        c = new CiceroTest('user', 'pwd', 2000);        
        c.getToken();

		// insert credentials
    	insert new geoDataCredentials__c(name = 'CiceroTest', User_Id__c = 'test', password__c = 'test', priority__c = 1, IsActive__c = true);

        c = new CiceroTest('Something is terribly wrong.');
		try {
			List<Geo_Data__c> gd = c.getGeodata('3540 Quade Rd, Clinton, WA');
		} catch (exception ex) {
			errMsg = ex.getMessage();
		}		
		// make sure we threw an error
        system.assertEquals('Cicero API Error.\nSomething is terribly wrong.', errMsg);  // just kidding, nothing is wrong

        c = new CiceroTest('requestForbidden');
		try {
			List<Geo_Data__c> gd = c.getGeodata('3540 Quade Rd, Clinton, WA');
		} catch (exception ex) {
			errMsg = ex.getMessage();
		}
        system.assertEquals('Callout error when trying to communicate with Cicero API.\n403 Forbidden.', errMsg);

        c = new CiceroTest('httpError');
		try {
			List<Geo_Data__c> gd = c.getGeodata('3540 Quade Rd, Clinton, WA');
		} catch (exception ex) {
			errMsg = ex.getMessage();
		}
        system.assertEquals('Error when trying to communicate with Cicero API.\nHTTP Callout failed.', errMsg);
    }
    
    static testmethod void testOfficials() {
    	insert new geoDataCredentials__c(name = 'CiceroTest', User_Id__c = 'test', password__c = 'test', priority__c = 1, IsActive__c = true);
    	        
        // get the token
        Cicero c = new CiceroTest();
        c.getToken();
        c = new CiceroTest();
		Official[] o = c.getDataForOfficials('1402 3rd Ave, Seattle, WA');
        system.assertEquals('Biden', o[1].last_name);
    }

    static testmethod void testBalance() {
    	insert new geoDataCredentials__c(name = 'CiceroTest', User_Id__c = 'test', password__c = 'test', priority__c = 1, IsActive__c = true);

        Cicero c = new CiceroTest();
		integer bal = c.getAvailableCallouts();
		
		// make sure we threw an error
        system.assertEquals(19555, bal); 
    }

/* Sample response from legislative_district
{
  "response": {
    "errors": [], 
    "messages": [], 
    "results": {
      "candidates": [
        {
          "confidence": "", 
          "count": {
            "from": 0, 
            "to": 5, 
            "total": 6
          }, 
          "districts": [
            {
              "city": "", 
              "country": "US", 
              "data": {}, 
              "district_id": "UNITED STATES", 
              "district_type": "NATIONAL_EXEC", 
              "id": 19, 
              "label": "United States", 
              "last_update_date": "2012-03-18 07:46:32", 
              "sk": 19, 
              "state": "", 
              "subtype": "NATION", 
              "valid_from": "0001-01-01 04:56:02", 
              "valid_to": null
            }, 
            {
              "city": "", 
              "country": "US", 
              "data": {}, 
              "district_id": "2", 
              "district_type": "NATIONAL_LOWER", 
              "id": 1967, 
              "label": "", 
              "last_update_date": "2012-03-18 07:46:32", 
              "sk": 1967, 
              "state": "WA", 
              "subtype": "LOWER", 
              "valid_from": "0001-01-01 04:56:02", 
              "valid_to": null
            }, 
            {
              "city": "", 
              "country": "US", 
              "data": {}, 
              "district_id": "WA", 
              "district_type": "NATIONAL_UPPER", 
              "id": 74, 
              "label": "", 
              "last_update_date": "2012-03-18 07:46:32", 
              "sk": 74, 
              "state": "WA", 
              "subtype": "UPPER", 
              "valid_from": "0001-01-01 04:56:02", 
              "valid_to": null
            }, 
            {
              "city": "", 
              "country": "US", 
              "data": {}, 
              "district_id": "WA", 
              "district_type": "STATE_EXEC", 
              "id": 1009, 
              "label": "Washington", 
              "last_update_date": "2012-03-18 07:46:32", 
              "sk": 1009, 
              "state": "WA", 
              "subtype": "STATE", 
              "valid_from": "0001-01-01 04:56:02", 
              "valid_to": null
            }, 
            {
              "city": "", 
              "country": "US", 
              "data": {}, 
              "district_id": "10", 
              "district_type": "STATE_LOWER", 
              "id": 5000, 
              "label": "", 
              "last_update_date": "2012-03-18 07:46:33", 
              "sk": 5000, 
              "state": "WA", 
              "subtype": "LOWER", 
              "valid_from": "0001-01-01 04:56:02", 
              "valid_to": null
            }, 
            {
              "city": "", 
              "country": "US", 
              "data": {}, 
              "district_id": "10", 
              "district_type": "STATE_UPPER", 
              "id": 986, 
              "label": "", 
              "last_update_date": "2012-03-18 07:46:34", 
              "sk": 986, 
              "state": "WA", 
              "subtype": "UPPER", 
              "valid_from": "0001-01-01 04:56:02", 
              "valid_to": null
            }
          ], 
          "entity": "", 
          "geoservice": "EsriNASoap", 
          "locator": "interpolation", 
          "match_addr": "3540 Quade Rd, Clinton, WA, 98236", 
          "score": 100.0, 
          "wkid": 4326, 
          "x": -122.423394, 
          "y": 47.966189
        }
      ]
    }
  }
}
*/

}